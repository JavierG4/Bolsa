name: CI tests

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

 # ----- SERVER -----
    - name: Install server dependencies
      run: |
        cd server
        npm ci

    - name: Run server tests
      run: |
        cd server
        npm test

    # ----- CLIENT -----
    - name: Install client dependencies
      run: |
        cd client
        npm ci

    - name: Run client tests
      run: |
        cd client
        npm test:e2e